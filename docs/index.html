<!DOCTYPE html>

<html>
<head>
<title>WebGL Maze</title>

<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

<script id="shader-vs" type="x-shader/x-vertex">

    attribute vec3 aVertexPosition;

    //attribute vec3 aVertexColor;
    
    uniform mat4 uMVMatrix;

    uniform mat4 uPMatrix;

    //varying vec4 vertexColor;

    attribute vec2 aTextureCoord;
    varying vec2 vTextureCoord;
    
    void main(void) {
		
		// To allow seeing the points drawn
		
		gl_PointSize = 5.0;
		
		// Just converting the (x,y,z) vertices to Homogeneous Coord.
		
		// And multiplying by the Projection and the Model-View matrix
		
        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
        
        // Converting the RGB color value to RGBA
        vTextureCoord = aTextureCoord;
        //vertexColor = vec4(aVertexColor, 1.0);
    }
</script>

<script id="shader-fs" type="x-shader/x-fragment">

	precision mediump float;
	
	varying vec2 vTextureCoord;

    uniform sampler2D uSampler0;

	//varying vec4 vertexColor;
	
	void main(void) {
		
		// Using the passed vertex color
		gl_FragColor = texture2D(uSampler0, vTextureCoord);
		//gl_FragColor = vertexColor;
	}

</script>
<script type="text/javascript" src="webgl-utils.js"></script>

<!-- Handling vectors and matrices -->
<script type="text/javascript" src="maths.js"></script>

<!-- Processing triangle mesh models -->
<script type="text/javascript" src="models.js"></script>

<!-- Creating the light sources -->
<script type="text/javascript" src="lightSources.js"></script>

<!-- WebGL code -->
<script type="text/javascript" src="initShaders.js"></script>
<script type="text/javascript" src="WebGL_maze.js"></script>

</head>

<body onload="runWebGL();">

	<div style="text-align: center">
		<canvas id="my-canvas" style="border:1px solid #000000;" width="550" height="550"></canvas>	
        
        <p>Select a maze:
		<select id="mazeSelect">
			<option value="maze1">Small</option>
  			<option value="maze2">Medium</option>
  			<option value="arena">Arena</option>
		</select>
		or upload one: 
		<input type="file" id="file" name="tex">
		<tr></tr>
		Wall texture:
		<input type="file" id="textureWall" name="tex">
		<tr></tr>
		Floor texture:
		<input type="file" id="textureFloor" name="texf">
		</p>	
	</div>

</body>

</html>
